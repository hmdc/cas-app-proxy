---
nginx-proxy:
  image: jwilder/nginx-proxy
  container_name: nginx-proxy
  ports:
    - "80:80"
    - "443:443"
  volumes:
    - /var/run/docker.sock:/tmp/docker.sock:ro
    - ./ssl/self-signed-development.crt:/etc/nginx/certs/development.sid.hmdc.harvard.edu.crt
    - ./ssl/self-signed-development.key:/etc/nginx/certs/development.sid.hmdc.harvard.edu.key
  environment:
    - DEFAULT_HOST=development.sid.hmdc.harvard.edu
web:
  build: .
  environment: 
    - VIRTUAL_HOST=development.sid.hmdc.harvard.edu
    - NODE_ENV="dev"
    - VIRTUAL_PORT=3000
